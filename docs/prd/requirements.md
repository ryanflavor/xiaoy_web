# Requirements

### Functional

- **FR1**: Web前端必须实现与Python参考实现完全一致的指令解析逻辑，覆盖4种核心指令类型（Vega、单向Delta、双向Delta、平仓指令）
- **FR2**: 指令输入界面必须提供实时解析预览，用户键入时即时显示标准化指令格式
- **FR3**: 综合预览表格必须包含所有关键字段：合约名称、VolM、方向、时间、档位、数量、价格、Margin、CashD、CashV、希腊值和风险度百分比
- **FR4**: 虚拟账户监控必须支持多账户复选框选择，并根据后端推送状态动态启用/禁用账户
- **FR5**: 算法监控面板必须按portfolio_id分组显示，包含总体进度和分账户进度跟踪
- **FR6**: 算法控制必须提供暂停、继续、停止操作，算法完成后显示"结束"状态
- **FR7**: 系统必须支持浏览器桌面通知和声音提醒，用于订单成交和算法事件推送

### Non Functional

- **NFR1**: 指令解析响应时间必须在100ms内，确保实时用户体验
- **NFR2**: WebSocket实时数据推送延迟必须控制在50ms内，支持算法进度和账户状态的实时更新
- **NFR3**: Web应用整体性能必须达到或超越现有桌面应用的响应速度
- **NFR4**: 系统必须支持并发多用户访问，单实例支持至少50个同时在线交易员
- **NFR5**: 前端应用必须具备离线检测和自动重连机制，确保网络异常时的用户体验

### Compatibility Requirements

- **CR1**: API网关与后端ZMQ通信必须完全遵循现有Majordomo协议规范，确保消息格式和序列化兼容性
- **CR2**: 数据库访问必须通过现有后端服务接口，严禁直接数据库连接，确保数据一致性和业务逻辑完整性
- **CR3**: 用户界面设计必须保持与现有桌面应用的操作习惯一致性，降低用户学习成本
- **CR4**: 新增API端点命名必须与现有RPC方法保持一致性，便于后续维护和扩展
- **CR5**: 用户认证必须集成现有SQL查询验证函数，确保认证逻辑的一致性和安全性
